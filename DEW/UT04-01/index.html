<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UT04-01</title>
    <style>
        input:valid, textarea:valid {
            border: 1px solid rgb(67, 189, 230);
        }
        input:invalid, textarea:invalid {
            border: 1px solid grey;
        }
    </style>
</head>
<body>
    <h1>UT04-01</h1>
    <form action="https://www.w3schools.com/action_page.php" method="post">
        <!-- Fieldset de Datos Usuario -->
        <fieldset>
            <legend>Datos Usuario</legend>
            <label for="username">Nombre de Usuario:</label>
            <input type="text" id="username" name="username" placeholder="UserName" required>
            <!-- <br><br> -->
            <label for="password">Contraseña:</label>
            <input type="password" id="password" name="password" placeholder="Mínimo 5 caracteres" minlength="5" required>
        </fieldset>
        
        <!-- Fieldset de Datos Personales -->
        <fieldset>
            <legend>Datos Personales</legend>
            <label for="nombre">Nombre:</label>
            <input type="text" id="nombre" name="nombre" placeholder="Nombre" required>

            <label for="apellidos">Apellidos:</label>
            <input type="text" id="apellidos" name="apellidos" placeholder="Apellidos" required>
            <br><br>
            <label for="telefono">Teléfono:</label>
            <input type="tel" id="telefono" name="telefono" placeholder="Ejem:(+34)666666666" required>
      
            <label for="codigoPostal">Código Postal:</label>
            <input type="text" id="codigoPostal" name="codigoPostal" placeholder="38XXX" pattern="\d{5}" required>
            <br><br>
            <label for="dni">DNI/NIE:</label>
            <select id="dniTipo" name="dniTipo" required>
                <option value="" disabled selected>---</option>
                <option value="dni">DNI</option>
                <option value="nie">NIE</option>
            </select>
            <input type="text" id="dni" name="dni" placeholder="DNI / NIE" pattern="[0-9]{8}[A-Za-z]" required>

            <br><br>
            <label>Crear cuenta como:</label><br>
            <input type="radio" id="particular" name="cuenta" value="particular" required>
            <label for="particular">Particular</label>
            <input type="radio" id="empresa" name="cuenta" value="empresa" required>
            <label for="empresa">Empresa</label>
            <br><br>
            <!-- <label for="nacimiento">Año de Nacimiento:</label>
            <input type="number" id="nacimiento" name="nacimiento" placeholder="Año" min="1900" max="2024" required> -->
            <label for="nacimiento">Año de Nacimiento:</label>
            <select id="nacimiento" name="nacimiento" required>
                <option value="" disabled selected>Seleccione el año</option>
                <!-- Generar opciones para los años desde 1900 hasta 2024 -->
                <script>
                    document.addEventListener('DOMContentLoaded', function() {
                        const select = document.getElementById('nacimiento');
                        for (let year = 1900; year <= 2024; year++) {
                            const option = document.createElement('option');
                            option.value = year;
                            option.textContent = year;
                            select.appendChild(option);
                        }
                    });
                </script>
            </select>

            <br><br>
            <label>Elige tus aficiones:</label><br>
            <input type="checkbox" id="musica" name="aficiones" value="musica">
            <label for="musica">Música</label>
            <br>
            <input type="checkbox" id="manualidades" name="aficiones" value="manualidades">
            <label for="manualidades">Manualidades</label>
            <br>
            <input type="checkbox" id="deportes" name="aficiones" value="deportes">
            <label for="deportes">Deportes</label>
            <br>
            <input type="checkbox" id="artes" name="aficiones" value="artes">
            <label for="artes">Artes</label>
            <br>
            <input type="checkbox" id="videojuegos" name="aficiones" value="videojuegos">
            <label for="videojuegos">Videojuegos</label>
            <br>
            <input type="checkbox" id="lectura" name="aficiones" value="lectura">
            <label for="lectura">Lectura</label>
            
        </fieldset>

        <!-- Fieldset de Datos Publicación -->
        <fieldset>
            <!-- <legend>Datos Publicación</legend>
            <label for="titulo">Título:</label>
            <input type="text" id="titulo" name="titulo" placeholder="Máximo 15 caracteres" maxlength="15" required>
            <br><br>
            <label for="descripcion">Descripción:</label>
            <textarea id="descripcion" name="descripcion" placeholder="Máximo 120 caracteres" maxlength="120" required></textarea> -->
                    <!-- Campo de texto con contador -->
            <label for="titulo">Título:</label>
            <br>
            <input 
                type="text" 
                id="titulo" 
                name="titulo" 
                placeholder="Máximo 15 caracteres" 
                maxlength="15" 
                oninput="actualizarContador(this, 'contadorTitulo')" 
                required>
            <div class="contador" id="contadorTitulo">0/15 caracteres</div>
            <br><br>
            
            <!-- Otro campo de texto con contador -->
            <label for="descripcion">Descripción:</label>
            <br>
            <textarea 
                id="descripcion" 
                name="descripcion" 
                placeholder="Máximo 120 caracteres" 
                maxlength="120" 
                oninput="actualizarContador(this, 'contadorDescripcion')" 
                required
                rows="4" 
                cols="50">
            </textarea>
            <div class="contador" id="contadorDescripcion">0/120 caracteres</div>
            <br><br>
        </fieldset>
        <br><br>

        <!-- Botón de envío -->
        <input type="submit" value="Enviar a W3school">
    </form>

    <script>
        /**
         * Actualiza el contador de caracteres debajo de un input.
         * @param {HTMLInputElement} input - El elemento input que dispara el evento.
         * @param {string} idContador - El ID del elemento que mostrará el conteo.
         */
        function actualizarContador(input, idContador) {
            const contador = document.getElementById(idContador);
            contador.textContent = `${input.value.length}/${input.maxLength} caracteres`;
        }
    </script>

</body>
</html>